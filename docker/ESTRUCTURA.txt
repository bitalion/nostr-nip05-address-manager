â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ³ ESTRUCTURA REORGANIZADA - DOCKER âœ…                        â•‘
â•‘                    NIP-05 Nostr Identifier                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ NUEVA ESTRUCTURA COMPLETA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

nip05/                                  â† RaÃ­z del proyecto
â”‚
â”œâ”€â”€ ğŸ¯ ACCESO RÃPIDO DESDE RAÃZ
â”‚   â”œâ”€â”€ docker-start                   â† Iniciar (desde cualquier lugar)
â”‚   â”œâ”€â”€ docker-stop                    â† Detener (desde cualquier lugar)
â”‚   â””â”€â”€ Makefile                       â† make docker-start (desde raÃ­z)
â”‚
â”œâ”€â”€ ğŸ“ docker/                         â† TODO sobre Docker aquÃ­
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”§ CONFIGURACIÃ“N
â”‚   â”‚   â”œâ”€â”€ Dockerfile                 â† Imagen del contenedor
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml         â† Desarrollo local
â”‚   â”‚   â”œâ”€â”€ docker-compose.prod.yml    â† ProducciÃ³n + Nginx
â”‚   â”‚   â”œâ”€â”€ .dockerignore              â† Exclusiones
â”‚   â”‚   â””â”€â”€ Makefile                   â† Comandos make
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”¨ SCRIPTS EJECUTABLES
â”‚   â”‚   â””â”€â”€ scripts/
â”‚   â”‚       â”œâ”€â”€ docker-start.sh        â­ Recomendado
â”‚   â”‚       â”œâ”€â”€ docker-build.sh
â”‚   â”‚       â””â”€â”€ docker-stop.sh
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŒ NGINX (PRODUCCIÃ“N)
â”‚   â”‚   â””â”€â”€ nginx/
â”‚   â”‚       â””â”€â”€ nginx.conf.example
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“– DOCUMENTACIÃ“N
â”‚   â”‚   â”œâ”€â”€ README.md                  â† Lee primero
â”‚   â”‚   â””â”€â”€ docs/
â”‚   â”‚       â”œâ”€â”€ DOCKER_QUICK_START.md  â† 5 minutos
â”‚   â”‚       â”œâ”€â”€ DOCKER_FULL_GUIDE.md   â† GuÃ­a completa
â”‚   â”‚       â””â”€â”€ DOCKER_SETUP.md        â† Detalles tÃ©cnicos
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‹ ESTE ARCHIVO
â”‚       â””â”€â”€ ESTRUCTURA.txt
â”‚
â”œâ”€â”€ ğŸ“„ DOCUMENTACIÃ“N RAÃZ
â”‚   â”œâ”€â”€ DOCKER_INFO.md                 â† GuÃ­a de esta reorganizaciÃ³n
â”‚   â”œâ”€â”€ main.py                        â† AplicaciÃ³n FastAPI
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“‚ DIRECTORIOS DE DATOS
â”‚   â”œâ”€â”€ data/                          â† Datos persistentes
â”‚   â”‚   â””â”€â”€ .well-known/               â† Registry NIP-05
â”‚   â”œâ”€â”€ templates/                     â† Plantillas HTML
â”‚   â”œâ”€â”€ static/                        â† Archivos estÃ¡ticos
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ğŸ”’ CONFIGURACIÃ“N GIT
    â”œâ”€â”€ .gitignore                     â† Actualizado
    â””â”€â”€ .github/                       â† GitHub Actions

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ FORMAS DE USAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  DESDE LA RAÃZ (MÃS FÃCIL):
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    cd nip05
    cp .env.example .env
    nano .env
    ./docker-start              â† Script automÃ¡tico

    O con make:
    make docker-start
    make docker-stop
    make docker-logs

2ï¸âƒ£  DESDE DIRECTORIO docker/:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    cd nip05/docker
    ./scripts/docker-start.sh   â† Script automÃ¡tico

    O con docker-compose:
    docker-compose up -d
    docker-compose logs -f

    O con make:
    make docker-start
    make help

3ï¸âƒ£  DESDE CUALQUIER LUGAR:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose -f /path/to/nip05/docker/docker-compose.yml up -d

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ CARACTERÃSTICAS CLAVE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Rutas AutomÃ¡ticas
   - Los scripts ajustan automÃ¡ticamente las rutas
   - Funcionan desde cualquier ubicaciÃ³n
   - No hay errores por rutas relativas incorrectas

âœ… Contexto de Build Correcto
   - Context: .. (raÃ­z del proyecto)
   - Dockerfile: docker/Dockerfile
   - Archivos de app: raÃ­z

âœ… VolÃºmenes Persistentes
   - ../data/.well-known    â†’ Datos NIP-05
   - ../static              â†’ Archivos estÃ¡ticos
   - ../templates           â†’ Plantillas HTML

âœ… FÃ¡cil de Mantener
   - Docker separado del cÃ³digo
   - Estructura clara y lÃ³gica
   - FÃ¡cil encontrar archivos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” VERIFICACIÃ“N:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DespuÃ©s de ejecutar ./docker-start:

âœ“ Contenedor corriendo:
  docker-compose ps

âœ“ Salud:
  docker inspect nip05-app --format='{{.State.Health.Status}}'

âœ“ Acceder:
  http://localhost:8000

âœ“ Logs:
  docker-compose logs -f  (desde docker/)

âœ“ API test:
  curl http://localhost:8000/api/check-availability/test

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ CONFIGURACIÃ“N NECESARIA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Desde la RAÃZ del proyecto:

   cp .env.example .env
   nano .env

   Variables obligatorias:
   - LNBITS_URL         â†’ Tu instancia LN Bits
   - LNBITS_API_KEY     â†’ API key de LN Bits
   - INVOICE_AMOUNT_SATS â†’ Cantidad en satoshis
   - DOMAIN             â†’ Tu dominio

2. AsegÃºrate de que Docker estÃ¡ instalado:

   docker --version
   docker-compose --version

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ INICIO RÃPIDO (30 segundos):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. cd nip05
2. cp .env.example .env && nano .env
3. ./docker-start
4. Abre: http://localhost:8000

Â¡Listo! ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTACIÃ“N:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Por orden de importancia:

1. docker/README.md
   â†’ GuÃ­a rÃ¡pida del directorio docker/

2. docker/docs/DOCKER_QUICK_START.md
   â†’ Inicio rÃ¡pido (5 minutos)

3. docker/docs/DOCKER_FULL_GUIDE.md
   â†’ GuÃ­a completa con troubleshooting

4. docker/docs/DOCKER_SETUP.md
   â†’ Detalles tÃ©cnicos y arquitectura

5. DOCKER_INFO.md (raÃ­z)
   â†’ GuÃ­a de la nueva reorganizaciÃ³n

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ COMANDOS RÃPIDOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Desde RAÃZ:
  ./docker-start                   # Iniciar
  ./docker-stop                    # Detener
  make docker-logs                 # Ver logs
  make docker-ps                   # Estado

Desde docker/:
  ./scripts/docker-start.sh        # Iniciar
  docker-compose up -d             # Iniciar
  docker-compose logs -f           # Logs
  docker-compose ps                # Estado
  make docker-start                # Iniciar

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› TROUBLESHOOTING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "docker-compose.yml no encontrado"
âœ… Los scripts navegan automÃ¡ticamente. Si usas docker-compose:
   - Desde raÃ­z: docker-compose -f docker/docker-compose.yml up -d
   - Desde docker/: docker-compose up -d

âŒ ".env no encontrado"
âœ… Debe estar en la RAÃZ del proyecto:
   cp .env.example .env

âŒ "Puerto 8000 en uso"
âœ… Cambiar puerto en docker/docker-compose.yml:
   ports:
     - "8001:8000"

âŒ "Contenedor se detiene inmediatamente"
âœ… Ver logs: docker-compose logs nip05-app

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ARQUITECTURA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DESARROLLO:

  RaÃ­z (/home/bitalion/nip05/)
    â”‚
    â”œâ”€ .env                    â† ConfiguraciÃ³n
    â”œâ”€ main.py                 â† AplicaciÃ³n
    â”œâ”€ requirements.txt
    â”œâ”€ templates/
    â”œâ”€ static/
    â”‚
    â””â”€ docker/                 â† ConfiguraciÃ³n Docker
        â”œâ”€ Dockerfile          â† Build image
        â””â”€ docker-compose.yml  â† Run container


CONTENEDOR:

  docker:8000
    â”œâ”€ /app/main.py           â† CÃ³digo de app
    â”œâ”€ /app/requirements.txt
    â”œâ”€ /app/templates/
    â”œâ”€ /app/static/
    â””â”€ /app/.well-known/      â† Datos persistentes


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ TIPS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Los scripts ajustan automÃ¡ticamente las rutas
   â†’ No preocuparse por directorios de trabajo

2. Usar ./docker-start desde la raÃ­z (mÃ¡s fÃ¡cil)
   â†’ AutomÃ¡ticamente navega a docker/ y ejecuta el script

3. Los archivos .env van en la RAÃZ
   â†’ Los scripts buscan ../.env

4. Los volÃºmenes son relativos a docker-compose.yml
   â†’ .. = raÃ­z del proyecto

5. Para producciÃ³n, ver docker/docs/DOCKER_FULL_GUIDE.md
   â†’ SecciÃ³n "Despliegue en ProducciÃ³n"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PRÃ“XIMOS PASOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Lee docker/README.md
2. Configura .env
3. Ejecuta ./docker-start
4. Abre http://localhost:8000
5. Â¡Disfruta! ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Â¡Hecho con â¤ï¸ por Cuba Bitcoin 2026! ğŸ‡¨ğŸ‡º

VersiÃ³n: 2.0.0 (Reorganizada)
Fecha: 2026-02-17

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
